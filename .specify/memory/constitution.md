# ChatZPT 프로젝트 Constitution

## 프로젝트 개요

ChatZPT는 AI 캐릭터 기반 채팅 서비스로, 사용자가 다양한 AI 캐릭터와 대화할 수 있는 플랫폼입니다.

## 핵심 원칙

### 1. 코드 품질

- **명확성**: 코드는 읽기 쉽고 이해하기 쉬워야 함
- **일관성**: 프로젝트 전체에서 일관된 코딩 스타일 유지
- **모듈화**: 기능별로 명확히 분리된 모듈 구조
- **재사용성**: 공통 기능은 재사용 가능한 컴포넌트로 구현

### 2. 테스트 표준

- **단위 테스트**: 모든 핵심 로직에 대한 단위 테스트 작성
- **통합 테스트**: API 엔드포인트와 데이터베이스 연동 테스트
- **E2E 테스트**: 주요 사용자 시나리오에 대한 종단간 테스트
- **테스트 커버리지**: 최소 80% 이상의 코드 커버리지 유지

### 3. 사용자 경험 일관성

- **직관적 UI**: 사용자가 쉽게 이해할 수 있는 인터페이스
- **반응형 디자인**: 다양한 디바이스에서 일관된 경험 제공
- **접근성**: 웹 접근성 가이드라인 준수
- **성능**: 빠른 로딩 시간과 부드러운 상호작용

### 4. 성능 요구사항

- **응답 시간**: API 응답 시간 200ms 이하
- **동시 사용자**: 최소 100명의 동시 사용자 지원
- **확장성**: 사용자 증가에 따른 수평적 확장 가능
- **메모리 효율성**: 효율적인 메모리 사용으로 비용 최적화

### 5. 보안 원칙

- **데이터 보호**: 사용자 데이터의 안전한 저장 및 전송
- **인증/인가**: 강력한 사용자 인증 및 권한 관리
- **API 보안**: API 엔드포인트 보안 및 레이트 리미팅
- **입력 검증**: 모든 사용자 입력에 대한 검증 및 살균화

## 기술적 의사결정 가이드라인

### 프론트엔드

- **React 19**: 최신 React 기능 활용한 컴포넌트 기반 아키텍처
- **TypeScript**: 타입 안전성 보장 및 개발 생산성 향상
- **Vite**: 빠른 개발 서버 및 빌드 도구
- **상태 관리**: Jotai를 통한 효율적인 상태 관리
- **스타일링**: Tailwind CSS + 다크모드 지원
- **애니메이션**: Framer Motion을 통한 부드러운 UI 애니메이션
- **HTTP 클라이언트**: Axios를 통한 API 통신

### 백엔드

- **Node.js + Express**: TypeScript 기반 RESTful API 서버
- **데이터 저장**: LowDB를 통한 JSON 기반 로컬 파일 저장
- **인증**: JWT 기반 인증 시스템
- **API 문서화**: OpenAPI SDK를 통한 API 문서화 및 클라이언트 생성

### AI 통합

- **OpenAI API**: GPT-4o-mini 모델을 통한 AI 캐릭터 응답 생성
- **프롬프트 관리**: 캐릭터별 프롬프트 템플릿 시스템
- **대화 컨텍스트**: 효율적인 대화 히스토리 관리
- **에러 처리**: AI API 실패 시 적절한 fallback 메커니즘

### 데이터 저장

- **로컬 저장**: LocalStorage + JSON 기반 로컬 파일 시스템
- **LowDB**: 백엔드 데이터베이스로 JSON 기반 NoSQL 데이터베이스
- **데이터 동기화**: 클라이언트-서버 간 효율적인 데이터 동기화

### 테스트

- **Jest**: 단위 테스트 및 통합 테스트 프레임워크
- **테스트 커버리지**: 최소 80% 이상의 코드 커버리지 유지
- **E2E 테스트**: 주요 사용자 시나리오에 대한 종단간 테스트

## 개발 프로세스

### 1. 스펙 정의

- 사용자 스토리 기반 요구사항 정의
- 명확한 수용 기준(Acceptance Criteria) 설정
- API 스펙 및 데이터 모델 정의

### 2. 설계 및 계획

- 아키텍처 다이어그램 작성
- 기술 스택 선택 및 근거 제시
- 구현 단계별 계획 수립

### 3. 구현

- TDD(Test-Driven Development) 방식 적용
- 코드 리뷰를 통한 품질 보장
- 지속적인 통합 및 배포

### 4. 테스트 및 검증

- 자동화된 테스트 실행
- 성능 테스트 및 최적화
- 사용자 수용 테스트

## 품질 보장

### 코드 리뷰 체크리스트

- [ ] 코드가 명확하고 이해하기 쉬운가?
- [ ] 적절한 에러 처리가 구현되어 있는가?
- [ ] 테스트가 충분히 작성되어 있는가?
- [ ] 보안 취약점이 없는가?
- [ ] 성능에 영향을 주는 부분이 있는가?

### 배포 전 체크리스트

- [ ] 모든 테스트가 통과하는가?
- [ ] 코드 커버리지가 기준을 만족하는가?
- [ ] 보안 스캔이 완료되었는가?
- [ ] 성능 테스트가 완료되었는가?
- [ ] 문서가 업데이트되었는가?

이 constitution은 프로젝트의 모든 개발 활동의 기준이 되며, 필요에 따라 업데이트될 수 있습니다.
